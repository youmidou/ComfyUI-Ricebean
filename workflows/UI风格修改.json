{"id":"e9c0a229-eb83-46e7-bbc7-cd38a4f49043","revision":0,"last_node_id":50,"last_link_id":132,"nodes":[{"id":11,"type":"DualCLIPLoader","pos":[48,288],"size":[315,122],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"localized_name":"CLIP","name":"CLIP","shape":3,"type":"CLIP","slot_index":0,"links":[10]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"DualCLIPLoader"},"widgets_values":["t5xxl_fp16.safetensors","clip_l.safetensors","flux","default"]},{"id":17,"type":"BasicScheduler","pos":[480,1008],"size":[315,106],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"Ê®°Âûã","name":"model","type":"MODEL","link":55}],"outputs":[{"localized_name":"Sigmas","name":"SIGMAS","shape":3,"type":"SIGMAS","links":[20]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"BasicScheduler"},"widgets_values":["simple",20,1]},{"id":16,"type":"KSamplerSelect","pos":[480,912],"size":[315,58],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"localized_name":"ÈááÊ†∑Âô®","name":"SAMPLER","shape":3,"type":"SAMPLER","links":[19]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"KSamplerSelect"},"widgets_values":["euler"]},{"id":26,"type":"FluxGuidance","pos":[480,144],"size":[317.3999938964844,58],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"Êù°‰ª∂","name":"conditioning","type":"CONDITIONING","link":41}],"outputs":[{"localized_name":"Êù°‰ª∂","name":"CONDITIONING","shape":3,"type":"CONDITIONING","slot_index":0,"links":[122]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"FluxGuidance"},"widgets_values":[3.5],"color":"#233","bgcolor":"#355"},{"id":25,"type":"RandomNoise","pos":[480,768],"size":[315,82],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"localized_name":"Âô™Ê≥¢","name":"NOISE","shape":3,"type":"NOISE","links":[37]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"RandomNoise"},"widgets_values":[618448729227412,"randomize"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":30,"type":"ModelSamplingFlux","pos":[480,1152],"size":[315,130],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"Ê®°Âûã","name":"model","type":"MODEL","link":56},{"name":"width","type":"INT","widget":{"name":"width"},"link":131},{"name":"height","type":"INT","widget":{"name":"height"},"link":132}],"outputs":[{"localized_name":"Ê®°Âûã","name":"MODEL","shape":3,"type":"MODEL","slot_index":0,"links":[54,55]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"ModelSamplingFlux"},"widgets_values":[1.15,0.5,1024,1024]},{"id":27,"type":"EmptySD3LatentImage","pos":[480,624],"size":[315,106],"flags":{},"order":20,"mode":0,"inputs":[{"name":"width","type":"INT","widget":{"name":"width"},"link":129},{"name":"height","type":"INT","widget":{"name":"height"},"link":130}],"outputs":[{"localized_name":"Latent","name":"LATENT","shape":3,"type":"LATENT","slot_index":0,"links":[116]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"EmptySD3LatentImage"},"widgets_values":[1024,1024,1]},{"id":37,"type":"Note","pos":[480,1344],"size":[315,117.9800033569336],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["The reference sampling implementation auto adjusts the shift value based on the resolution, if you don't want this you can just bypass (CTRL-B) this ModelSamplingFlux node.\n"],"color":"#432","bgcolor":"#653"},{"id":10,"type":"VAELoader","pos":[48,432],"size":[311.82000732421875,60.43000030517578],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"localized_name":"VAE","name":"VAE","shape":3,"type":"VAE","slot_index":0,"links":[12]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":28,"type":"Note","pos":[48,576],"size":[336,288],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["If you get an error in any of the nodes above make sure the files are in the correct directories.\n\nSee the top of the examples page for the links : https://comfyanonymous.github.io/ComfyUI_examples/flux/\n\nflux1-dev.safetensors goes in: ComfyUI/models/diffusion_models/\n\nt5xxl_fp16.safetensors and clip_l.safetensors go in: ComfyUI/models/text_encoders/\n\nae.safetensors goes in: ComfyUI/models/vae/\n\n\nTip: You can set the weight_dtype above to one of the fp8 types if you have memory issues."],"color":"#432","bgcolor":"#653"},{"id":39,"type":"CLIPVisionEncode","pos":[420,-300],"size":[290,78],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"clipËßÜËßâ","name":"clip_vision","type":"CLIP_VISION","link":117},{"localized_name":"ÂõæÂÉè","name":"image","type":"IMAGE","link":118}],"outputs":[{"localized_name":"CLIPËßÜËßâËæìÂá∫","name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","slot_index":0,"links":[120]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPVisionEncode"},"widgets_values":["center"]},{"id":42,"type":"StyleModelLoader","pos":[400,-180],"size":[340,60],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"localized_name":"È£éÊ†ºÊ®°Âûã","name":"STYLE_MODEL","type":"STYLE_MODEL","links":[119]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"StyleModelLoader"},"widgets_values":["flux1-redux-dev.safetensors"]},{"id":38,"type":"CLIPVisionLoader","pos":[60,-410],"size":[370,60],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"localized_name":"CLIPËßÜËßâ","name":"CLIP_VISION","type":"CLIP_VISION","slot_index":0,"links":[117]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPVisionLoader"},"widgets_values":["sigclip_vision_patch14_384.safetensors"]},{"id":44,"type":"MarkdownNote","pos":[60,915],"size":[225,88],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["üõà [Learn more about this workflow](https://comfyanonymous.github.io/ComfyUI_examples/flux/#redux)"],"color":"#432","bgcolor":"#653"},{"id":12,"type":"UNETLoader","pos":[48,144],"size":[315,82],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[{"localized_name":"Ê®°Âûã","name":"MODEL","shape":3,"type":"MODEL","slot_index":0,"links":[56]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"UNETLoader"},"widgets_values":["flux1-dev.safetensors","default"],"color":"#223","bgcolor":"#335"},{"id":13,"type":"SamplerCustomAdvanced","pos":[932.0289306640625,166.47288513183594],"size":[272.3599853515625,124.54000091552734],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"Âô™Ê≥¢","name":"noise","type":"NOISE","link":37},{"localized_name":"ÂºïÂØºÂô®","name":"guider","type":"GUIDER","link":30},{"localized_name":"ÈááÊ†∑Âô®","name":"sampler","type":"SAMPLER","link":19},{"localized_name":"Ë•øÊ†ºÁéõ","name":"sigmas","type":"SIGMAS","link":20},{"localized_name":"LatentÂõæÂÉè","name":"latent_image","type":"LATENT","link":116}],"outputs":[{"localized_name":"Latent","name":"output","shape":3,"type":"LATENT","slot_index":0,"links":[24]},{"localized_name":"ÈôçÂô™Latent","name":"denoised_output","shape":3,"type":"LATENT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[]},{"id":34,"type":"PrimitiveNode","pos":[-526.270263671875,789.5704345703125],"size":[210,82],"flags":{},"order":10,"mode":4,"inputs":[],"outputs":[{"name":"connect to widget input","type":"*","slot_index":0,"links":[]}],"title":"width","properties":{"Run widget replace on values":false},"color":"#323","bgcolor":"#535"},{"id":35,"type":"PrimitiveNode","pos":[-567.443603515625,623.8894653320312],"size":[210,82],"flags":{},"order":11,"mode":4,"inputs":[],"outputs":[{"name":"connect to widget input","type":"*","slot_index":0,"links":[]}],"title":"height","properties":{"Run widget replace on values":false},"color":"#323","bgcolor":"#535"},{"id":22,"type":"BasicGuider","pos":[916.5423583984375,71.85987091064453],"size":[222.35000610351562,46],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"Ê®°Âûã","name":"model","type":"MODEL","link":54},{"localized_name":"Êù°‰ª∂","name":"conditioning","type":"CONDITIONING","link":123}],"outputs":[{"localized_name":"ÂºïÂØºÂô®","name":"GUIDER","shape":3,"type":"GUIDER","slot_index":0,"links":[30]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"BasicGuider"},"widgets_values":[]},{"id":8,"type":"VAEDecode","pos":[968.6536254882812,412.03338623046875],"size":[210,46],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"Latent","name":"samples","type":"LATENT","link":24},{"localized_name":"vae","name":"vae","type":"VAE","link":12}],"outputs":[{"localized_name":"ÂõæÂÉè","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[9]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":50,"type":"Note","pos":[382.2280578613281,497.958251953125],"size":[210,88],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Ëé∑ÂèñÂéüÂõæÂ∞∫ÂØ∏"],"color":"#432","bgcolor":"#653"},{"id":43,"type":"Note","pos":[1130,-440],"size":[345.8999938964844,182.30999755859375],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["The redux model lets you prompt with images. It can be used with any Flux1 dev or schnell model workflow.\n\nYou can chain multiple \"Apply Style Model\" nodes if you want to mix multiple images together."],"color":"#432","bgcolor":"#653"},{"id":45,"type":"Note","pos":[1130.2596435546875,-215.4014892578125],"size":[345.8999938964844,182.30999755859375],"flags":{},"order":14,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["È£éÊ†º‰øÆÊîπ-Â∑•‰ΩúÊµÅ  yh\n1:ÂÆûÁé∞ÂÖÉÁ¥†‰∏çÂèòÈ£éÊ†ºÊîπÂèò\n2:ÂõæÁâáÂ§ßÂ∞è‰∏çÂèò\n\nRealistic style\nModern style\nSci-fi style"],"color":"#432","bgcolor":"#653"},{"id":9,"type":"SaveImage","pos":[1222.1710205078125,16.3759708404541],"size":[985.2999877929688,1060.3800048828125],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"ÂõæÁâá","name":"images","type":"IMAGE","link":9}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27"},"widgets_values":["ComfyUI",""]},{"id":41,"type":"StyleModelApply","pos":[760,-300],"size":[320,122],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"Êù°‰ª∂","name":"conditioning","type":"CONDITIONING","link":122},{"localized_name":"È£éÊ†ºÊ®°Âûã","name":"style_model","type":"STYLE_MODEL","link":119},{"localized_name":"clipËßÜËßâËæìÂá∫","name":"clip_vision_output","shape":7,"type":"CLIP_VISION_OUTPUT","link":120}],"outputs":[{"localized_name":"Êù°‰ª∂","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[123]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"StyleModelApply"},"widgets_values":[0.20000000000000004,"multiply"]},{"id":49,"type":"GetImageSize","pos":[603.7396240234375,512.5438232421875],"size":[210,46],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":127}],"outputs":[{"localized_name":"Height","name":"Height","type":"INT","links":[130,132]},{"localized_name":"Width","name":"Width","type":"INT","links":[129,131]}],"properties":{"cnr_id":"ComfyUI-YOLO","ver":"a134e2509552220083e63a7ec25fe92d2f2c55a8","Node name for S&R":"GetImageSize"},"widgets_values":[]},{"id":40,"type":"LoadImage","pos":[60,-300],"size":[315,314],"flags":{},"order":15,"mode":0,"inputs":[],"outputs":[{"localized_name":"ÂõæÂÉè","name":"IMAGE","type":"IMAGE","links":[118,127]},{"localized_name":"ÈÅÆÁΩ©","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_00034_.png","image",""]},{"id":6,"type":"CLIPTextEncode","pos":[409.137451171875,265.9581298828125],"size":[422.8500061035156,164.30999755859375],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":10}],"outputs":[{"localized_name":"Êù°‰ª∂","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[41]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["Cute style Blue and purple style"],"color":"#232","bgcolor":"#353"}],"links":[[9,8,0,9,0,"IMAGE"],[10,11,0,6,0,"CLIP"],[12,10,0,8,1,"VAE"],[19,16,0,13,2,"SAMPLER"],[20,17,0,13,3,"SIGMAS"],[24,13,0,8,0,"LATENT"],[30,22,0,13,1,"GUIDER"],[37,25,0,13,0,"NOISE"],[41,6,0,26,0,"CONDITIONING"],[54,30,0,22,0,"MODEL"],[55,30,0,17,0,"MODEL"],[56,12,0,30,0,"MODEL"],[116,27,0,13,4,"LATENT"],[117,38,0,39,0,"CLIP_VISION"],[118,40,0,39,1,"IMAGE"],[119,42,0,41,1,"STYLE_MODEL"],[120,39,0,41,2,"CLIP_VISION_OUTPUT"],[122,26,0,41,0,"CONDITIONING"],[123,41,0,22,1,"CONDITIONING"],[127,40,0,49,0,"IMAGE"],[129,49,1,27,0,"INT"],[130,49,0,27,1,"INT"],[131,49,1,30,1,"INT"],[132,49,0,30,2,"INT"]],"groups":[{"id":1,"title":"Redux Model","bounding":[45,-480,1040,507.6000061035156],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.0834705943388403,"offset":[233.91883336292824,248.8015663698618]},"groupNodes":{"EmptyLatentImage":{"nodes":[{"type":"PrimitiveNode","pos":[432,480],"size":{"0":210,"1":82},"flags":{},"order":6,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[],"widget":{"name":"height"},"slot_index":0}],"title":"height","properties":{"Run widget replace on values":false},"color":"#323","bgcolor":"#535","index":0},{"type":"PrimitiveNode","pos":[672,480],"size":{"0":210,"1":82},"flags":{},"order":7,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[],"slot_index":0,"widget":{"name":"width"}}],"title":"width","properties":{"Run widget replace on values":false},"color":"#323","bgcolor":"#535","index":1},{"type":"EmptySD3LatentImage","pos":[480,624],"size":{"0":315,"1":106},"flags":{},"order":10,"mode":0,"inputs":[{"name":"width","type":"INT","link":null,"widget":{"name":"width"}},{"name":"height","type":"INT","link":null,"widget":{"name":"height"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"EmptySD3LatentImage"},"widgets_values":[1024,1024,1],"index":2}],"links":[[1,0,2,0,34,"INT"],[0,0,2,1,35,"INT"]],"external":[[0,0,"INT"],[1,0,"INT"],[2,0,"LATENT"]],"config":{"0":{"output":{"0":{"name":"height"}},"input":{"value":{"visible":true}}},"1":{"output":{"0":{"name":"width"}},"input":{"value":{"visible":true}}},"2":{"input":{"width":{"visible":false},"height":{"visible":false}}}}}}},"version":0.4}